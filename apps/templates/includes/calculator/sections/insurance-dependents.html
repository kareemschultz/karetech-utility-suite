<!-- templates/includes/calculator/sections/insurance-dependents.html -->
<div class="form-section">
    <h4 class="mb-4">Insurance & Dependents</h4>
    
    <!-- 2025 Updates Notice -->
    <div class="alert alert-primary mb-4">
        <div class="d-flex">
            <div class="mr-3">
                <i class="ni ni-notification-70" style="font-size: 2rem;"></i>
            </div>
            <div>
                <h5 class="alert-heading mb-1">2025 Updates</h5>
                <p class="mb-0">
                    Insurance deductions are capped at 10% of gross pay or $50,000 (whichever is less).<br>
                    New for 2025: Each child adds $10,000 to your monthly tax threshold.
                </p>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Insurance Section -->
        <div class="col-md-7">
            <div class="card shadow">
                <div class="card-body">
                    <h5>Insurance Coverage</h5>
                    <div class="insurance-options">
                        <div class="custom-control custom-radio mb-3">
                            <input type="radio" id="insurance1" name="insurance_type" class="custom-control-input" value="1" checked onclick="SalaryCalculator.toggleInsuranceInput(false)">
                            <label class="custom-control-label" for="insurance1">
                                <span class="d-block font-weight-bold">No Coverage</span>
                                <small class="text-muted">$0 monthly premium</small>
                            </label>
                        </div>

                        <div class="custom-control custom-radio mb-3">
                            <input type="radio" id="insurance2" name="insurance_type" class="custom-control-input" value="2" onclick="SalaryCalculator.toggleInsuranceInput(false)">
                            <label class="custom-control-label" for="insurance2">
                                <span class="d-block font-weight-bold">Assuria - Employee Only</span>
                                <small class="text-muted">$1,469 monthly premium</small>
                            </label>
                        </div>

                        <div class="custom-control custom-radio mb-3">
                            <input type="radio" id="insurance3" name="insurance_type" class="custom-control-input" value="3" onclick="SalaryCalculator.toggleInsuranceInput(false)">
                            <label class="custom-control-label" for="insurance3">
                                <span class="d-block font-weight-bold">Assuria - Employee & One</span>
                                <small class="text-muted">$3,182 monthly premium</small>
                            </label>
                        </div>

                        <div class="custom-control custom-radio mb-3">
                            <input type="radio" id="insurance4" name="insurance_type" class="custom-control-input" value="4" onclick="SalaryCalculator.toggleInsuranceInput(false)">
                            <label class="custom-control-label" for="insurance4">
                                <span class="d-block font-weight-bold">Assuria - Employee & Family</span>
                                <small class="text-muted">$4,970 monthly premium</small>
                            </label>
                        </div>

                        <div class="custom-control custom-radio">
                            <input type="radio" id="insurance5" name="insurance_type" class="custom-control-input" value="5" onclick="SalaryCalculator.toggleInsuranceInput(true)">
                            <label class="custom-control-label" for="insurance5">
                                <span class="d-block font-weight-bold">3rd Party Insurance Provider</span>
                                <small class="text-muted">Enter custom premium amount</small>
                            </label>
                        </div>

                        <!-- Custom Insurance Amount Field -->
                        <div id="custom_insurance_container" class="mt-4" style="display: none;">
                            <div class="form-group">
                                <label class="form-control-label">Insurance Premium Amount</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">$</span>
                                    </div>
                                    <input type="number" 
                                           class="form-control" 
                                           name="insurance_premium" 
                                           placeholder="Enter monthly premium"
                                           min="0">
                                </div>
                                <small class="form-text text-muted">
                                    Enter your monthly insurance premium amount
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dependents Section -->
        <div class="col-md-5">
            <div class="card shadow">
                <div class="card-body">
                    <h5>Dependents Information</h5>
                    <div class="form-group">
                        <label class="form-control-label">Number of Children</label>
                        <div class="input-group">
                            <input type="number" 
                                   class="form-control" 
                                   id="num_children"
                                   name="num_children" 
                                   min="0" 
                                   value="0"
                                   onchange="SalaryCalculator.updateTaxThreshold()">
                            <div class="input-group-append">
                                <span class="input-group-text">
                                    <i class="ni ni-single-02"></i>
                                </span>
                            </div>
                        </div>
                        <small class="form-text text-muted">
                            Each child increases your monthly tax threshold by $10,000
                        </small>
                    </div>

                    <!-- Tax Threshold Preview -->
                    <div class="alert alert-info mt-3 mb-0">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Current Tax Threshold</h6>
                                <small>Base ($130,000) + Child Allowances</small>
                            </div>
                            <div>
                                <h4 class="mb-0">$<span id="current_threshold">130,000</span></h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Insurance and Dependents Summary -->
    <div class="card bg-gradient-info mt-4">
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5 class="text-white">Insurance Deduction</h5>
                    <p class="text-white mb-0">
                        Monthly Premium: $<span id="insurance_premium_preview">0.00</span><br>
                        <small>Maximum deduction: 10% of gross pay or $50,000</small>
                    </p>
                </div>
                <div class="col-md-6">
                    <h5 class="text-white">Child Tax Benefits</h5>
                    <p class="text-white mb-0">
                        Additional Allowance: $<span id="child_allowance_total">0.00</span><br>
                        <small>($10,000 per child)</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>